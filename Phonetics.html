<!DOCTYPE html>
<html lang="en-US">
  <head>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
    <link rel="stylesheet" type="text/css" href="Phonetics.css" />
    <title>Phonetics</title>
  </head>
    <body>
        <div class="whitespace"></div>
        <div class="container" ng-app="myApp" ng-controller="myCtrl">
          <div class="header">
           Phonetics
          </div>
          <p id="sub_header"> Making phone conversations easier since 2015 </p>
          <p> Simply select your style, add your text and repeat </p>


         <div class="whitespace"></div>
          <div class="center_buttons">
            <a href="#" ng-click="activate(0)">
              <div class="button" ng-class="{'active':translate_index == 0}"> Phonetic </div>
            </a>
            <a href="#" ng-click="activate(1)">
              <div class="button" ng-class="{'active':translate_index == 1}"> Pho-net-ics </div>
            </a>
            <a href="#" ng-click="activate(2)">
              <div class="button" ng-class="{'active':translate_index == 2}"> Evil </div>
            </a>
          </div>
        <div class="whitespace"></div>
        <div  class="center_buttons">
          <input id="userinput" type="text" ng-model="userinput" ng-change="change()" placeholder="Your text here">
            <p id="translated" ng-bind="translated"></p>
            <p>{{translate_index}}</p>
        </div>
        </div>



    <script type="">
     var app = angular.module('myApp', []);
     app.controller('myCtrl', function($scope) {
         // MAP of letters to evil words!
         var translate_map = {
         'a': ["alpha", "al-fah", "are"],
         'b': ["bravo", "brah-voh", "bdellium"],
         'c': ["charlie", "char-lee", "cue"],
         'd': ["delta", "dell-tar", "django"],
         'e': ["echo", "eck-oh", "eye"],
         'f': ["foxtrot", "foks-trot", "faux"],
         'g': ["golf", "go-elf", "gneiss"],
         'h': ["hotel", "hoh-tel", "heir"],
         'i': ["india", "in-dee-ah", "ian"],
         'j': ["juliette", "jew-lee-ett", "jalapeno"],
         'k': ["kilo", "key-loh", "know"],
         'l': ["lima", "lee-mah", "llama"],
         'm': ["mike", "mike", "mnemonic"],
         'n': ["november", "no-vem-ber", "no"],
         'o': ["oscar", "oss-cah", "ouija"],
         'p': ["papa", "pah-pah" ,"phlegm"],
         'q': ["quebec", "keh-beck", "qat"],
         'r': ["romeo", "roh-me-oh", "right"],
         's': ["sierra", "see-air-ah", "sea"],
         't': ["tango", "tang-go","tsunami"],
         'u': ["uniform", "you-ni-form", "urn"],
         'v': ["victor", "vik-tah", "vaduz"],
         'w': ["whiskey" , "wiss-key", "write"],
         'x': ["xray", "ecks-ray", "xian"],
         'y': ["yankee", "yang-kee", "you"],
         'z': ["zulu", "zoo-loo", "z"],
         '.': ["stop", "ss-top" ,"period"],
         };
         $scope.translated='Text will appear here';
         $scope.translate_index=0;
         // When userinput is changed this function is called.
         $scope.change = function() {
           if($scope.userinput.length == 0){
             $scope.translated='Text will appear here';
             return
           }
         // Wipe out the translated string, because we are going to rebuild the string.
         $scope.translated = '';
         // for each letter in the inputword
          for (var i = 0, len = $scope.userinput.length; i < len; i++) {

             letter_that_should_be_tranlated = $scope.userinput[i]; // a

             response_from_translate_map = translate_map[letter_that_should_be_tranlated];
              if(response_from_translate_map == undefined){
                $scope.translated += ' ' + letter_that_should_be_tranlated;
              }
              else{
                $scope.translated += ' ' +  response_from_translate_map[$scope.translate_index];
              }
           }
         };
         $scope.activate= function(index){
           $scope.translate_index=index;
            $scope.change();
         }

     });
    </script>
    </body>
</html>
